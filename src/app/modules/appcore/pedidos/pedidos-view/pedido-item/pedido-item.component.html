<div class="modal" tabindex="-1" id="modal-item" style="display: block;">
    <div class="modal-dialog modal-dialog-scrollable modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Lista de Produtos</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="fecharModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
                <!-- <div class="col-5">
                    <input type="text" class="form-control pl-3" placeholder="Pesquisar ..." (input)="searchChanged.next($event.target.value)" />
                </div> -->
            </div>
            <div class="conteiner row">
                <div class="col-7 self-center-horizontal mt-3">
                    <input type="text" class="form-control pl-3" placeholder="Pesquisar ..." (input)="searchChanged.next($event.target.value)" />
                </div>
                <div class="col-3 self-center-horizontal mt-3">
                    <button type="button" class="btn btn-info" (click)="saveAll()">
                        <i class="bi bi-save"></i> Salvar Itens</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="form-row" *ngIf="!(loading || itens.length == 0)">
                    <table datatable [dtOptions]="dtOptions" class="row-border hover">
                        <thead>
                            <tr>
                                <!-- <th>Código</th> -->
                                <th>Foto</th>
                                <th>Código</th>
                                <th>Produto</th>
                                <th>Valor Un.</th>
                                <th>Un.</th>
                                <th>Valor Total</th>
                                <th>Qtd</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- - ################ LISTAGEM DOS REGISTROS #####################  -->
                            <tr *ngFor="let item of itens">
                                <!-- <td>{{item.codigoProduto}}</td> -->
                                <td>
                                    <img [src]="item.fotoProduto" class="img-fluid img-thumbnail" style="width: 70px;" />
                                </td>
                                <td>{{item.codigoAlternativoProduto}}</td>
                                <td class="col-6">{{item.nomeProduto}}</td>
                                <td>{{item.valor | currency:'R$'}}</td>
                                <td >{{item.unidadeMedida}}</td>
                                <td>{{item.valorTotal | currency:'R$' }} </td>
                                <td style="width: 40%; ">
                                    <div class="row">
                                        <div class="col-2">
                                            <button class="ml-2 btn btn-xs  btn-danger mt-2" (click)="decrementar(item)">-</button>
                                        </div>
                                        <div class="col-4">
                                            <input type="number" (blur)="alteraQtd($event.target.value, item)" [value]="item.qtd"
                                                class="form-control">
                                        </div>
                                        <div class="col-2">
                                            <button class="btn btn-xs btn-success mt-2" (click)="incrementar(item)">+</button>
                                        </div>
                                    </div>
                                </td>
                                <td style="width: 20%; ">
                                    <button *ngIf="item.alterado == true" type="button" (click)="save(item, $event)"
                                        class="btn btn-xs btn-outline-info">
                                        Salvar</button>

                                </td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>